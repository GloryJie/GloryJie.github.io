<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>è¯¾ç¨‹å­¦ä¹  on CoderJie</title>
        <link>https://gloryjie.github.io/categories/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/</link>
        <description>Recent content in è¯¾ç¨‹å­¦ä¹  on CoderJie</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Sun, 24 Mar 2024 21:37:07 +0800</lastBuildDate><atom:link href="https://gloryjie.github.io/categories/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>MIT6824å®éªŒ1-MapReduceè®¾è®¡</title>
        <link>https://gloryjie.github.io/p/mit6824_lab1/</link>
        <pubDate>Sun, 24 Mar 2024 21:37:07 +0800</pubDate>
        
        <guid>https://gloryjie.github.io/p/mit6824_lab1/</guid>
        <description>&lt;img src="https://gloryjie.github.io/p/mit6824_lab1/cover.png" alt="Featured image of post MIT6824å®éªŒ1-MapReduceè®¾è®¡" /&gt;&lt;blockquote&gt;
&lt;p&gt;å°é¢æ˜¯ã€Šæ–—ç½—å¤§é™†2ç»ä¸–å”é—¨ã€‹ä¸­çš„å‡Œè½å®¸ï¼Œç”¨å†°æŠ€èƒ½, å›¾ç‰‡ç”±AIç”Ÿæˆï¼Œå®Œæˆå›¾ç‰‡æ”¾åœ¨é™„å½•ä¸­&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯¾ç¨‹é¦–é¡µä»¥åŠå®éªŒè¯´æ˜ç›¸å…³ä»‹ç»é“¾æ¥åœ¨é™„å½•ä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¯¾ç¨‹ç†è§£&#34;&gt;è¯¾ç¨‹ç†è§£&lt;/h2&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼Œå°±æ˜¯ç”¨Goæ¥å®ç°ä¸€ä¸ªå•æœºå¤šè¿›ç¨‹ç‰ˆæœ¬çš„MapReduceã€‚(MapReduceè®¡ç®—æ¨¡å‹å¯ä»¥å»æœç´¢ç›¸å…³æ–‡ç« äº†è§£)ã€‚ä¼šæœ‰å¦‚ä¸‹ä¸¤ç§ç±»å‹çš„è¿›ç¨‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Coordinatoråè°ƒè€…ï¼šä½œä¸ºä¸€ä¸ªåè°ƒç€ï¼Œåè°ƒMapã€Reduceçš„ä»»åŠ¡äº¤ç»™ä¸åŒçš„Workerå»æ‰§è¡Œï¼Œåè°ƒMapã€Reduceé˜¶æ®µï¼ˆæ‰§è¡Œå®Œæ‰€æœ‰Mapä»»åŠ¡ä¹‹åæ‰å¯ä»¥å»æ‰§è¡ŒReduceä»»åŠ¡ï¼‰&lt;/li&gt;
&lt;li&gt;Workeræ‰§è¡Œå™¨ï¼šä»»åŠ¡æ‰§è¡Œè€…ï¼Œæ‰§è¡ŒMapã€Reduceä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;èµ·æ¥ä¸€ä¸ªMRä»»åŠ¡åï¼Œåªä¼šæœ‰ä¸€ä¸ªCoordinatorè¿›ç¨‹ï¼Œå¯ä»¥æœ‰å¤šä¸ªWorkerè¿›ç¨‹ã€‚éœ€è¦å»è€ƒè™‘å’Œè§£å†³ä¸‹é¢çš„å‡ ä¸ªé—®é¢˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Coordinatorå¦‚ä½•æ„ŸçŸ¥workerï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰Mapä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œæ–¹å¯è¿›è¡ŒReduceä»»åŠ¡ï¼ŒCoordinatorå¦‚ä½•è¿›è¡Œåè°ƒåˆ†é…ä»»åŠ¡ï¼Ÿ&lt;/li&gt;
&lt;li&gt;Mapä»»åŠ¡ä¼šäº§ç”Ÿä¸´æ—¶æ–‡ä»¶ä½œä¸ºè¾“å‡ºï¼Œéœ€è¦æ”¶é›†æ‰€æœ‰çš„ä¸´æ—¶æ–‡ä»¶å†…å®¹ä½œä¸ºReduceçš„è¾“å…¥ï¼Œä¸¤ç§ä»»åŠ¡ä¹‹é—´å¦‚ä½•é…åˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;Workerå¯èƒ½ä¼šcrashï¼Œæ­£åœ¨å¤„ç†çš„ä»»åŠ¡è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ&lt;/li&gt;
&lt;li&gt;Workeræ‰§è¡Œä»»åŠ¡æ—¶é—´å¯èƒ½è¿‡é•¿ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&#34;KOmGo&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;è¯¾ç¨‹å‰ç½®çŸ¥è¯†&#34;&gt;è¯¾ç¨‹å‰ç½®çŸ¥è¯†&lt;/h2&gt;
&lt;p&gt;1ã€MapReduceçš„è¿è¡Œæœºåˆ¶&lt;br /&gt;2ã€Goå†…ç½®çš„RPCé€šä¿¡&lt;br /&gt;3ã€Goçš„é”ä¿æŠ¤æœºåˆ¶&lt;br /&gt;4ã€Goæœ¬åœ°çš„å®šæ—¶ä»»åŠ¡time.Ticker
&lt;a name=&#34;NTwEP&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä»»åŠ¡è¿è¡Œæœºåˆ¶&#34;&gt;ä»»åŠ¡è¿è¡Œæœºåˆ¶&lt;/h2&gt;
&lt;p&gt;Coordinatorçš„æ‰§è¡Œå…¥å£åœ¨mrcoordinator.goæ–‡ä»¶ä¸­ï¼Œé€»è¾‘å°±æ˜¯åˆ›å»ºä¸€ä¸ªCoordinatorç»“æ„ä½“å®ä¾‹ï¼Œä¹‹åå¾ªç¯æ‰§è¡ŒDone()æ–¹æ³•ï¼Œæ¥åˆ¤æ–­Coordinatoræ˜¯å¦å·²ç»ç»“æŸï¼Œè¿›è€Œåˆ¤æ–­æ•´ä¸ªMRä»»åŠ¡æ˜¯å¦ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;Workerçš„æ‰§è¡Œå…¥å£åœ¨mrworker.goæ–‡ä»¶ä¸­ï¼Œé€»è¾‘å°±æ˜¯åŠ è½½Mapã€Reduceçš„å‡½æ•°ï¼Œä¹‹åè°ƒç”¨workerçš„Workeræ–¹æ³•ã€‚å½“å‰Workerè¿›ç¨‹å…·ä½“è¯¥å¦‚ä½•æ‰§è¡ŒMapã€Reduceä»»åŠ¡ï¼Œéœ€è¦è‡ªå·±åœ¨Workeræ–¹æ³•å†…åŒºå®ç°ã€‚&lt;/p&gt;
&lt;p&gt;å®éªŒåªéœ€è¦ä¿®æ”¹src/mré‡Œè¾¹çš„ä¸‰ä¸ªæ–‡ä»¶ï¼Œåœ¨é‡Œè¾¹ä¹¦å†™è‡ªå·±çš„é€»è¾‘ä»£ç &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;coordinator.go&lt;/li&gt;
&lt;li&gt;worker.go&lt;/li&gt;
&lt;li&gt;rpc.go
&lt;a name=&#34;lE49e&#34;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®ç°è®¾è®¡&#34;&gt;å®ç°è®¾è®¡&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œå…ˆæ˜ç¡®ä¸€ä¸‹æ¦‚å¿µï¼Œå¯¹å¯åŠ¨ä¸€ä¸ªMRä»»åŠ¡ç§°ä¹‹ä¸ºJobï¼Œè€ŒMapä»»åŠ¡ã€Reduceä»»åŠ¡ç§°ä¸ºTaskã€‚åé¢éƒ½ç”¨è‹±æ–‡æ¥è¡¨ç¤ºã€‚
&lt;a name=&#34;aWetF&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;coordinatorçš„è®¾è®¡&#34;&gt;Coordinatorçš„è®¾è®¡&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªCoordinatoréœ€è¦çŸ¥é“MR Jobå½“å‰éœ€è¦å¤„ç†çš„filesï¼Œå¹¶ä¸”æœ‰éœ€è¦å‡ ä¸ªReduceï¼ˆæ‰§è¡ŒMakeCoordinatorï¿½çš„æ—¶å€™ä¼šä¼ å…¥ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºä¸€ä¸ªjobä¼šå­˜åœ¨mapã€Reduceé˜¶æ®µï¼Œè¿™é‡Œç»™jobè®¾è®¡äº†å‡ ä¸ªé˜¶æ®µï¼ˆçŠ¶æ€ï¼‰ï¼Œç”¨æ•´å‹æ¥è¡¨ç¤ºã€‚å¦‚ä¸‹&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é˜¶æ®µ&lt;/th&gt;
&lt;th&gt;é˜¶æ®µå€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;åˆå§‹é˜¶æ®µ&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Mapé˜¶æ®µ&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reduceé˜¶æ®µ&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç­‰å¾…Workerä¸‹çº¿é˜¶æ®µ&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jobç»“æŸ&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Coordinatoréœ€è¦çŸ¥é“å½“å‰æœ‰å“ªäº›Workerå­˜åœ¨ï¼Œåˆ¤æ–­å…¶Workerçš„å­˜æ´»ï¼Œè¿›è€Œåˆ¤æ–­ä»»åŠ¡æ˜¯å¦è¿˜åœ¨ç»§ç»­æ‰§è¡Œã€‚æ‰€ä»¥éœ€è¦ç”¨ä¸€ä¸ªç»“æ„ä½“æ¥è¡¨æ˜¯workerèŠ‚ç‚¹ï¼Œåˆ¤æ–­å­˜æ´»çš„ä¾æ®ç®€å•çš„å¿ƒè·³å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;Coordinatoréœ€è¦æ¨è¿›mapã€reduceä»»åŠ¡çš„æ‰§è¡Œï¼Œéœ€è¦ç»´æŠ¤taskåˆ—è¡¨ã€‚ï¼ˆå…·ä½“taskçš„è®¾è®¡çœ‹ä¸‹é¢ï¼‰è¿™é‡Œåˆ†åˆ«ä¸ºä¸¤ç§ç±»å‹çš„taskè®¾ç«‹ä¸¤ä¸ªåˆ—è¡¨ï¼Œä½¿ç”¨mapå­˜æ”¾ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ‰§è¡Œå®Œmapä»»åŠ¡åï¼Œæ‰å¯ä»¥æ‰§è¡Œreduceä»»åŠ¡ï¼Œè¿™é‡Œç®€å•èµ·è§ï¼Œåˆ¤æ–­å„ä¸ªé˜¶æ®µä»»åŠ¡å®Œæˆçš„æ ‡è®°ä½¿ç”¨è®¡æ•°æ¥è¡¨ç¤ºã€‚æ‰€ä»¥è€Œå¤–éœ€è¦ä¸¤ä¸ªç»Ÿè®¡æ•°å€¼ï¼šmapä»»åŠ¡å®Œæˆæ•°é‡ã€reduceä»»åŠ¡å®Œæˆæ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;å¤šä¸ªWorkerè¯·æ±‚ï¼Œéœ€è¦å¹¶å‘ä¿®æ”¹taskç»“æ„ä½“çš„çŠ¶æ€ä»¥åŠç»Ÿè®¡ä»»åŠ¡æ•°ç­‰ï¼Œä¼šéœ€è¦äº’æ–¥è®¿é—®ï¼Œè¿˜éœ€è¦ä¸€ä¸ªmutexè¿›è¡Œæ•°æ®ä¿æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ç»“ä¸Šè¿°ï¼Œä¸€ä¸ªCoordinatorå†…åŒ…å«çš„ç»“æ„å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Coordinator&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Your definitions here.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;files&lt;/span&gt;               &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;reduceNum&lt;/span&gt;           &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;jobStage&lt;/span&gt;            &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;workerNodeMap&lt;/span&gt;       &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;workerNode&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;mapTaskMap&lt;/span&gt;          &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TaskResult&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;reduceTaskMap&lt;/span&gt;       &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TaskResult&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;mapTaskDoneCount&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;reduceTaskDoneCount&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;taskMutex&lt;/span&gt;           &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mutex&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;workerNode&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;workerId&lt;/span&gt;          &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;lastHeartBeatTime&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;JOB_STAGE_INIT&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;JOB_MAP_STAGE&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;JOB_REDUCE_STAGE&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;JOB_END&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;MAP_TASK&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;map&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;REDUCE_TASK&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;reduce&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;taskçš„è®¾è®¡&#34;&gt;Taskçš„è®¾è®¡&lt;/h3&gt;
&lt;p&gt;mapTaskã€reduceTaskéƒ½æœ‰å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œå¤–å‡ºæ¥çœ‹éƒ½æ˜¯è¾“å…¥ã€è¾“å‡ºã€‚æ‰€ä»¥è¿™é‡Œè®¾è®¡éƒ½ä½¿ç”¨åŒä¸€ä¸ªç»“æ„ä½“æ¥è¡¨ç¤ºä¸¤ç§é˜¶æ®µçš„ä»»åŠ¡ã€‚ä½¿ç”¨ä¸€ä¸ªtypeå­—æ®µè¿›è¡ŒåŒºåˆ†å³å¯ã€‚è¿™é‡Œä¹Ÿç»™taskè¿›è¡Œäº†çŠ¶æ€çš„åˆ’åˆ†ã€‚ï¼ˆè¿™é‡Œå‡è®¾taskæ²¡æœ‰å¤±è´¥çš„å¯èƒ½ï¼‰ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é˜¶æ®µ&lt;/th&gt;
&lt;th&gt;é˜¶æ®µå€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å¾…æ‰§è¡Œ&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ‰§è¡Œä¸­&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ‰§è¡Œå®Œæˆ&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;TASK_PENDING&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;TASK_EXECUTING&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;TASK_COMPLETED&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;TaskResult&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;TaskId&lt;/span&gt;           &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// ç”±Coordinatorè¿›è¡Œåˆ†é…
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nx&#34;&gt;TaskType&lt;/span&gt;         &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// map or reduce
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nx&#34;&gt;Status&lt;/span&gt;           &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;FilePath&lt;/span&gt;         &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// input file path
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nx&#34;&gt;ResultPath&lt;/span&gt;       &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// output file path
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nx&#34;&gt;ExecuteSuccess&lt;/span&gt;   &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;     &lt;span class=&#34;c1&#34;&gt;// execute result
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nx&#34;&gt;WorkerId&lt;/span&gt;         &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;      &lt;span class=&#34;c1&#34;&gt;// execute worker
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nx&#34;&gt;NReduce&lt;/span&gt;          &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;StartExecuteTime&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;HeartbeatResult&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;WorkerId&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;Shutdown&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// å½“trueæ—¶ç›´æ¥é€€å‡ºè¿›ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;a name=&#34;Y3gUb&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;workerçš„è®¾è®¡&#34;&gt;Workerçš„è®¾è®¡&lt;/h3&gt;
&lt;p&gt;workeræ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯å’ŒCoordinatorè¿›è¡Œé€šä¿¡ï¼Œæ‰§è¡Œmapã€reduceä»»åŠ¡ã€‚&lt;br /&gt;ç”±äºmapã€reduceç±»å‹çš„taskéƒ½æ˜¯workeræ‰§è¡Œï¼Œä¸­é—´æ–‡ä»¶çš„å¤„ç†ä¹Ÿè½åˆ°äº†workerèº«ä¸Šã€‚ä¸‹é¢æ˜¯å¤„ç†å„ä¸ªé˜¶æ®µçš„é€»è¾‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mapé˜¶æ®µï¼šworkerä¼šæ ¹æ®reduceçš„æ•°é‡nï¼Œåˆ›å»ºnä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶å°†mapäº§ç”Ÿçš„kvç»“æœï¼Œåˆ†æ•£å†™å…¥åˆ°è¿™nä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ã€‚ä¹‹åï¼Œå°†è¿™nä¸ªä¸´æ—¶æ–‡ä»¶è·¯å¾„ä½œä¸ºå½“å‰mapä»»åŠ¡çš„ResultPathï¼Œä¸ŠæŠ¥ç»™Coordinatorã€‚&lt;/li&gt;
&lt;li&gt;Coordinatoråè°ƒé˜¶æ®µï¼šå°†mapäº§å‡ºçš„ä¸´æ—¶æ–‡ä»¶ï¼Œå†™å…¥åˆ°å¯¹åº”çš„Reduceä»»åŠ¡çš„FilePathä¸­ä½œä¸ºè¾“å…¥&lt;/li&gt;
&lt;li&gt;reduceé˜¶æ®µï¼šworkerè¯»å–æ‰€æœ‰FilePathä¸­çš„æ–‡ä»¶åï¼Œåšä¸€ä¸ªsortã€mergeï¼Œæ‰§è¡ŒReduceå‡½æ•°ã€‚å°†äº§å‡ºå†™å…¥åˆ°mr-out-taskIdçš„æ–‡ä»¶ä¸­ï¼ˆè¿™é‡Œç®€å•èµ·è§ï¼Œä¸å†™å…¥tmp fileäº†ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œå’Œå®éªŒæ¨èçš„ä¸€æ ·ï¼Œå°†mapç”Ÿæˆçš„ä¸­é—´KVæ•°æ®ä½œä¸ºjsonç»“æ„å†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ã€‚
&lt;a name=&#34;P0h4E&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;rpcé€šä¿¡è®¾è®¡&#34;&gt;RPCé€šä¿¡è®¾è®¡&lt;/h3&gt;
&lt;p&gt;Coordinatorå’Œworkerä¹‹é—´ï¼Œæ˜¯é‡‡ç”¨ä¸æ–­è¯·æ±‚çš„æ¨¡å¼ï¼ˆpullï¼‰ã€‚Coordinatorä¸ä¼šä¸»åŠ¨ç»™workerå‘é€æ•°æ®ã€‚&lt;br /&gt;è¿™é‡Œè®¾è®¡äº†ä¸‰ç§çš„æ¥å£äº¤äº’&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;workerå®šæ—¶ä¸ŠæŠ¥å¿ƒè·³ç»™Coordinator&lt;/li&gt;
&lt;li&gt;workerä¸æ–­åœ°ä»Coordinatorä¸­è·å–ä»»åŠ¡æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;workeræ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡åï¼Œä¸ŠæŠ¥æ‰§è¡Œç»“æœç»™Coordinator&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŸºæœ¬å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;br /&gt;
&lt;img src=&#34;https://gloryjie.github.io/p/mit6824_lab1/design.png&#34;
	width=&#34;975&#34;
	height=&#34;730&#34;
	srcset=&#34;https://gloryjie.github.io/p/mit6824_lab1/design_hufbfc64555e17a0e55e5fe6f1ee64a206_63236_480x0_resize_box_3.png 480w, https://gloryjie.github.io/p/mit6824_lab1/design_hufbfc64555e17a0e55e5fe6f1ee64a206_63236_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;RPCé€šä¿¡è®¾è®¡&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&#34;QilfT&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¾ƒé‡è¦çš„å®šæ—¶ä»»åŠ¡&#34;&gt;è¾ƒé‡è¦çš„å®šæ—¶ä»»åŠ¡&lt;/h3&gt;
&lt;p&gt;å®šæ—¶ä»»åŠ¡ä¸»è¦æ˜¯è§£å†³Workerè·å–åˆ°ä»»åŠ¡åï¼Œä½†æ˜¯Workerå®•æœºçš„æƒ…å†µï¼Œè¿™æ—¶å€™Workeræ‰§è¡Œçš„taskéœ€è¦äº¤ç»™å…¶ä»–Workerå»æ‰§è¡Œã€‚&lt;br /&gt;è®¾è®¡ä¸Šï¼Œ&lt;strong&gt;é€šè¿‡åˆ¤å®šWorkerçš„å¿ƒè·³è¶…æ—¶æ—¶é—´æ¥åˆ¤å®šWorkeræ˜¯å¦å®•æœº&lt;/strong&gt;ï¼Œä»¥åŠæŒ‰ç…§å®éªŒé¦–é¡µè¯´çš„ï¼Œç®€å•çš„åˆ¤æ–­å¦‚æœtaskæ‰§è¡Œæ—¶é—´è¶…è¿‡äº†10sï¼Œä¹Ÿè®¤ä¸ºè¯¥ä»»åŠ¡éœ€è¦åˆ‡æ¢Workeræ‰§è¡Œã€‚&lt;br /&gt;ä¸‹é¢æ˜¯Coordinatorçš„ä¸¤ä¸ªå®šæ—¶ä»»åŠ¡é€»è¾‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰«æWorkeråˆ—è¡¨ï¼Œå¦‚æœä¸Šä¸€æ¬¡å¿ƒè·³æ—¶é—´è¶…è¿‡äº†é¢„å®šçš„è¶…æ—¶æ—¶é—´ï¼Œé‚£ä¹ˆå°±ä»Workeråˆ—è¡¨ä¸­å‰”é™¤&lt;/li&gt;
&lt;li&gt;æ‰«ætaskåˆ—è¡¨ï¼Œä»»åŠ¡å¤„äºæ­£åœ¨æ‰§è¡Œä¸­ï¼Œå¦‚æœå…¶æ‰§è¡Œçš„Workerå¹¶ä¸åœ¨Workerçš„åˆ—è¡¨ä¸­ï¼Œæˆ–è€…æ‰§è¡Œæ—¶é—´è¶…è¿‡äº†10sï¼Œåˆ™é‡ç½®è¯¥ä»»åŠ¡ä¸ºå¾…æ‰§è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·å°±å¯ä»¥é‡ç½®Taskçš„çŠ¶æ€ï¼Œå­˜æ´»çš„Workerå°±å¯ä»¥è·å–å¾—åˆ°Taskæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;a name=&#34;iLmct&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;coordinatoræ‰§è¡Œé˜¶æ®µæ¨è¿›&#34;&gt;Coordinatoræ‰§è¡Œé˜¶æ®µæ¨è¿›&lt;/h3&gt;
&lt;p&gt;åœ¨æ‰§è¡Œå®Œæ‰€æœ‰çš„Mapä»»åŠ¡ä¹‹åï¼Œæ‰å¯ä»¥æ‰§è¡ŒReduceä»»åŠ¡ã€‚è®¾è®¡ä¸Šï¼Œ&lt;strong&gt;å°†ä»»åŠ¡æ¨è¿›æ”¾åˆ°äº†Coordinatorä¸­æ¥å—ä»»åŠ¡æ‰§è¡Œç»“æœçš„é€»è¾‘ä¸­&lt;/strong&gt;ã€‚å¦‚æœæ‰€æœ‰çš„Mapä»»åŠ¡æ‰§è¡Œå®Œæˆäº†ï¼Œé‚£ä¹ˆå°±å°†JOB_STAGEä¿®æ”¹æˆReduceé˜¶æ®µï¼Œè¿™æ ·Workerå°±å¯ä»¥è·å–åˆ°Reduceä»»åŠ¡å»æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;åªæœ‰CoordinatorçŸ¥é“æ•´ä½“çš„å®Œæˆæƒ…å†µï¼Œä½†æ˜¯Workerä¸çŸ¥é“ã€‚Workerå¯ä»¥ç®€å•çš„è®¾è®¡ä¸ºå¦‚æœRPCè°ƒç”¨å¤±è´¥ï¼Œå°±è®¤ä¸ºCoordinatorç»“æŸäº†ï¼Œè‡ªå·±ä¹Ÿè·Ÿç€é€€å‡ºã€‚æˆ–è€…æœ‰æŸç§RPCç»“æœèƒ½è®©WorkerçŸ¥é“å½“å‰éœ€è¦é€€å‡ºã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè®¾è®¡é€šè¿‡Workerçš„å¿ƒè·³è¿”å›ç»“æœæ¥å‘ŠçŸ¥Workerä¸‹ä¸€æ­¥çš„æ‰§è¡Œï¼Œå¦‚æœæ”¶åˆ°shutdownå‘½ä»¤ï¼Œé‚£ä¹ˆå°±ç›´æ¥é€€å‡ºã€‚Coordinatoråœ¨Reduceé˜¶æ®µç»“æŸï¼Œå°±ç›´æ¥èµ°åˆ°endé˜¶æ®µã€‚&lt;br /&gt;&lt;/p&gt;
&lt;h2 id=&#34;è¸©å‘&#34;&gt;è¸©å‘&lt;/h2&gt;
&lt;p&gt;å¯¹äºgoè¯­è¨€ä¸å¤ªç†Ÿç»ƒï¼Œä¸€äº›å¸¸è§çš„å‘è¸©äº†ä¸å°‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ‡ç‰‡sliceã€å“ˆå¸Œè¡¨mapçš„éå†ä¿®æ”¹ã€åˆ é™¤å…ƒç´ &lt;/li&gt;
&lt;li&gt;goå†…ç½®rpcä½¿ç”¨ï¼Œå¯¹äºé»˜è®¤å€¼æ˜¯å¦‚ä½•å¤„ç†çš„ï¼ˆè¿™é‡Œå¯¹äºå„ç§çŠ¶æ€ï¼Œå»ºè®®é¿å¼€é»˜è®¤å€¼ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸ªå‘è°ƒè¯•äº†å¾ˆä¹…ï¼Œå°±æ˜¯workeråœ¨å»è¯·æ±‚ä»»åŠ¡çš„æ—¶å€™ï¼Œåˆ›å»ºçš„TaskResultç»“æ„ä½“æ˜¯æ”¾åœ¨äº†forå¾ªç¯å¤–è¾¹ï¼Œå¯¼è‡´åœ¨å¯¼è‡´æ¯æ¬¡è°ƒç”¨è·å–åˆ°çš„ç»“æœä¼šæºæ‚äº†ä¸Šæ¬¡è°ƒç”¨çš„ç»“æœğŸ˜­ï¼Œè¿˜æœ‰é»˜è®¤å€¼ä¸ä¿®æ”¹çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ”¾ç‚¹ä»£ç ç¤ºä¾‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getTaskFromCoordinator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;workerId&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;TaskResult&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// é—®é¢˜å°±åœ¨è¿™é‡Œï¼Œåªåˆ›å»ºäº†ä¸€æ¬¡ï¼Œå†…éƒ¨forå¾ªç¯ä¼šå…±ç”¨ä¸€ä¸ªå®ä¾‹ï¼Œå¤šæ¬¡è¯·æ±‚å’Œæºæ‚ä¸Šä¸€æ¬¡è¯·æ±‚çš„ç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// result := &amp;amp;TaskResult{}  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;// æ­£ç¡®åº”è¯¥æ”¾åœ¨å¾ªç¯é‡Œè¾¹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TaskResult&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;call&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Coordinator.GetTaskToExecute&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;workerId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TaskId&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;result&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Second&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fatal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;è·å–ä»»åŠ¡å¤±è´¥&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯¼è‡´çš„ç»“æœå°±æ˜¯å¦‚ä¸‹ï¼Œæ˜æ˜Coordinatorè¿”å›çš„taskIdæ˜¯0ï¼Œä¸ºå•¥workeræ”¶åˆ°çš„taskIdæ˜¯-1ï¼Ÿï¼Ÿï¼Ÿ&lt;br /&gt;åŸå› å°±æ˜¯&lt;strong&gt;ä¸Šä¸€æ¬¡è¯·æ±‚çš„ç»“æœè¿”å›çš„å°±æ˜¯-1ï¼Œè¿™ä¸€æ¬¡è¿”å›çš„æ˜¯0ï¼Œæ˜¯ä¸ªé»˜è®¤å€¼ï¼Œgoçš„rpcæ˜¯ä¸ä¼šä¼ è¾“ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šå»ä¿®æ”¹-1&lt;/strong&gt;ï¼ŒçœŸæ˜¯æ—¥äº†ç‹—ã€‚æ‰€ä»¥è¿™é‡Œå»ºè®®å¯¹&lt;strong&gt;äºå„ç§çŠ¶æ€ã€idå€¼çš„å®šä¹‰ä¸è¦ä½¿ç”¨é»˜è®¤å€¼ï¼ï¼ï¼&lt;/strong&gt;&lt;br /&gt;
&lt;img src=&#34;https://gloryjie.github.io/p/mit6824_lab1/logPic.png&#34;
	width=&#34;1424&#34;
	height=&#34;140&#34;
	srcset=&#34;https://gloryjie.github.io/p/mit6824_lab1/logPic_huc87b63be8d35eeaf88ff37e7d9c3cf69_32718_480x0_resize_box_3.png 480w, https://gloryjie.github.io/p/mit6824_lab1/logPic_huc87b63be8d35eeaf88ff37e7d9c3cf69_32718_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;è¾“å‡ºæ—¥å¿—&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;1017&#34;
		data-flex-basis=&#34;2441px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&#34;zhuFS&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œæ˜¯å‡è®¾æ‰€æœ‰çš„Taskæœ€ç»ˆåœ¨10så†…éƒ½æ˜¯ä¼šæ‰§è¡Œå®Œæˆçš„ï¼Œ10sæœªå®Œæˆåˆ™äº¤ç»™åˆ«çš„Workerå»æ‰§è¡Œã€‚å®é™…ä¸Šï¼ŒTaskçš„æ‰§è¡Œæ˜¯ä¼šå‡ºç°å„ç§å„æ ·çš„æƒ…å†µçš„ã€‚è€Œä¸”ï¼Œè¿™é‡Œè®¾è®¡ä¸Šæ¯ä¸€ä¸ªè¾“å…¥çš„fileä½œä¸ºä¸€ä¸ªMapä»»åŠ¡ï¼Œä¼šå‡ºç°è®¡ç®—å€¾æ–œçš„æƒ…å†µã€‚ç†æƒ³æƒ…å†µä¸‹éœ€è¦å¹³å‡çš„è¿›è¡Œåˆ‡åˆ†æ•°æ®ï¼Œè®©æ¯ä¸ªMapä»»åŠ¡å°½å¯èƒ½çš„å¤„ç†ç›¸åŒå¤§å°çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;é¦–æ¬¡æ¥è§¦goè¯­è¨€æ¥å†™é¡¹ç›®ï¼Œä¸ä¼šçš„å°±è¾¹æœç´¢åˆ«å†™ï¼Œæ•ˆç‡åæ…¢äº›ï¼ŒdebugåŠå¤©ã€‚ä¸è¿‡ä¸»è¦æ˜¯è¦åœ¨å…³é”®èŠ‚ç‚¹è¾“å‡ºè¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯ï¼Œä¾¿äºè§‚å¯Ÿå„ç§æ•°æ®ç»“æ„çš„å…·ä½“å˜æ›´æƒ…å†µã€‚&lt;/p&gt;
&lt;h2 id=&#34;é™„å½•&#34;&gt;é™„å½•&lt;/h2&gt;
&lt;p&gt;è¯¾ç¨‹é¦–é¡µï¼š&lt;a class=&#34;link&#34; href=&#34;https://pdos.csail.mit.edu/6.824/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://pdos.csail.mit.edu/6.824/index.html&lt;/a&gt;&lt;br /&gt;
è¯¾ç¨‹å®éªŒè¯´æ˜ï¼š&lt;a class=&#34;link&#34; href=&#34;https://pdos.csail.mit.edu/6.824/labs/lab-mr.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://pdos.csail.mit.edu/6.824/labs/lab-mr.html&lt;/a&gt;&lt;/p&gt;
&lt;div  align=&#34;center&#34;&gt;    
 &lt;img src=&#34;cover.jpg&#34; width = &#34;200&#34; height = &#34;100&#34; alt=&#34;å‡Œè½å®¸&#34; align=center /&gt;
&lt;/div&gt;
&lt;h3 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h3&gt;
</description>
        </item>
        
    </channel>
</rss>
